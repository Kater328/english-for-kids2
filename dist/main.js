(()=>{"use strict";const e=["Main page","Actions","Animals","Clothes","Emotions","Colours","Fruits","Vegetables","Body parts","Statistics"],t=["Actions","Animals","Clothes","Emotions","Colours","Fruits","Vegetables","BodyParts"],a={Actions:[{word:"cry",translation:"плакать",image:"../assets/img/cry.jpg",audioSrc:"../assets/audio/cry.mp3"},{word:"dance",translation:"танцевать",image:"../assets/img/dance.jpg",audioSrc:"../assets/audio/dance.mp3"},{word:"dive",translation:"нырять",image:"../assets/img/dive.jpg",audioSrc:"../assets/audio/dive.mp3"},{word:"draw",translation:"рисовать",image:"../assets/img/draw.jpg",audioSrc:"../assets/audio/draw.mp3"},{word:"fish",translation:"ловить рыбу",image:"../assets/img/fish.jpg",audioSrc:"../assets/audio/fish.mp3"},{word:"fly",translation:"летать",image:"../assets/img/fly.jpg",audioSrc:"../assets/audio/fly.mp3"},{word:"hug",translation:"обнимать",image:"../assets/img/hug.jpg",audioSrc:"../assets/audio/hug.mp3"},{word:"jump",translation:"прыгать",image:"../assets/img/jump.jpg",audioSrc:"../assets/audio/jump.mp3"}],Animals:[{word:"cat",translation:"кот",image:"../assets/img/cat.jpg",audioSrc:"../assets/audio/cat.mp3"},{word:"chick",translation:"цыплёнок",image:"../assets/img/chick.jpg",audioSrc:"../assets/audio/chick.mp3"},{word:"chicken",translation:"курица",image:"../assets/img/chicken.jpg",audioSrc:"../assets/audio/chicken.mp3"},{word:"dog",translation:"собака",image:"../assets/img/dog.jpg",audioSrc:"../assets/audio/dog.mp3"},{word:"horse",translation:"лошадь",image:"../assets/img/horse.jpg",audioSrc:"../assets/audio/horse.mp3"},{word:"pig",translation:"свинья",image:"../assets/img/pig.jpg",audioSrc:"../assets/audio/pig.mp3"},{word:"rabbit",translation:"кролик",image:"../assets/img/rabbit.jpg",audioSrc:"../assets/audio/rabbit.mp3"},{word:"sheep",translation:"овца",image:"../assets/img/sheep.jpg",audioSrc:"../assets/audio/sheep.mp3"}],Clothes:[{word:"skirt",translation:"юбка",image:"../assets/img/skirt.jpg",audioSrc:"../assets/audio/skirt.mp3"},{word:"pants",translation:"брюки",image:"../assets/img/pants.jpg",audioSrc:"../assets/audio/pants.mp3"},{word:"blouse",translation:"блузка",image:"../assets/img/blouse.jpg",audioSrc:"../assets/audio/blouse.mp3"},{word:"dress",translation:"платье",image:"../assets/img/dress.jpg",audioSrc:"../assets/audio/dress.mp3"},{word:"boot",translation:"ботинок",image:"../assets/img/boot.jpg",audioSrc:"../assets/audio/boot.mp3"},{word:"shirt",translation:"рубашка",image:"../assets/img/shirt.jpg",audioSrc:"../assets/audio/shirt.mp3"},{word:"coat",translation:"пальто",image:"../assets/img/coat.jpg",audioSrc:"../assets/audio/coat.mp3"},{word:"shoe",translation:"туфли",image:"../assets/img/shoe.jpg",audioSrc:"../assets/audio/shoe.mp3"}],Emotions:[{word:"sad",translation:"грустный",image:"../assets/img/sad.jpg",audioSrc:"../assets/audio/sad.mp3"},{word:"angry",translation:"сердитый",image:"../assets/img/angry.jpg",audioSrc:"../assets/audio/angry.mp3"},{word:"happy",translation:"счастливый",image:"../assets/img/happy.jpg",audioSrc:"../assets/audio/happy.mp3"},{word:"tired",translation:"уставший",image:"../assets/img/tired.jpg",audioSrc:"../assets/audio/tired.mp3"},{word:"surprised",translation:"удивлённый",image:"../assets/img/surprised.jpg",audioSrc:"../assets/audio/surprised.mp3"},{word:"scared",translation:"испуганный",image:"../assets/img/scared.jpg",audioSrc:"../assets/audio/scared.mp3"},{word:"smile",translation:"улыбка",image:"../assets/img/smile.jpg",audioSrc:"../assets/audio/smile.mp3"},{word:"laugh",translation:"смех",image:"../assets/img/laugh.jpg",audioSrc:"../assets/audio/laugh.mp3"}],Colours:[{word:"brown",translation:"коричневый",image:"../assets/img/brown.jpg",audioSrc:"../assets/audio/brown.wav"},{word:"yellow",translation:"жёлтый",image:"../assets/img/yellow.jpg",audioSrc:"../assets/audio/yellow.wav"},{word:"orange",translation:"оранжевый",image:"../assets/img/orange.jpg",audioSrc:"../assets/audio/orange.wav"},{word:"red",translation:"красный",image:"../assets/img/red.jpg",audioSrc:"../assets/audio/red.wav"},{word:"green",translation:"зелёный",image:"../assets/img/green.jpg",audioSrc:"../assets/audio/green.wav"},{word:"blue",translation:"голубой",image:"../assets/img/blue.jpg",audioSrc:"../assets/audio/blue.wav"},{word:"purple",translation:"фиолетовый",image:"../assets/img/purple.jpg",audioSrc:"../assets/audio/purple.wav"},{word:"black",translation:"чёрный",image:"../assets/img/black.jpg",audioSrc:"../assets/audio/black.wav"}],Fruits:[{word:"apple",translation:"яблоко",image:"../assets/img/apple.jpg",audioSrc:"../assets/audio/apple.wav"},{word:"banana",translation:"банан",image:"../assets/img/banana.jpg",audioSrc:"../assets/audio/banana.wav"},{word:"orange",translation:"апельсин",image:"../assets/img/orange1.jpg",audioSrc:"../assets/audio/orange1.wav"},{word:"peach",translation:"персик",image:"../assets/img/peach.jpg",audioSrc:"../assets/audio/peach.wav"},{word:"grape",translation:"виноград",image:"../assets/img/grape.jpg",audioSrc:"../assets/audio/grape.wav"},{word:"cherry",translation:"вишня",image:"../assets/img/cherry.jpg",audioSrc:"../assets/audio/cherry.wav"},{word:"plum",translation:"слива",image:"../assets/img/plum.jpg",audioSrc:"../assets/audio/plum.wav"},{word:"strawberry",translation:"клубника",image:"../assets/img/strawberry.jpg",audioSrc:"../assets/audio/strawberry.wav"}],Vegetables:[{word:"cucumber",translation:"огурец",image:"../assets/img/cucumber.jpg",audioSrc:"../assets/audio/cucumber.wav"},{word:"pepper",translation:"перец",image:"../assets/img/pepper.jpg",audioSrc:"../assets/audio/pepper.wav"},{word:"tomato",translation:"помидор",image:"../assets/img/tomato.jpg",audioSrc:"../assets/audio/tomato.wav"},{word:"onion",translation:"лук",image:"../assets/img/onion.jpg",audioSrc:"../assets/audio/onion.wav"},{word:"cabbage",translation:"капуста",image:"../assets/img/cabbage.jpg",audioSrc:"../assets/audio/cabbage.wav"},{word:"carrot",translation:"морковь",image:"../assets/img/carrot.jpg",audioSrc:"../assets/audio/carrot.wav"},{word:"mushroom",translation:"гриб",image:"../assets/img/mushroom.jpg",audioSrc:"../assets/audio/mushroom.wav"},{word:"corn",translation:"кукуруза",image:"../assets/img/corn.jpg",audioSrc:"../assets/audio/corn.wav"}],BodyParts:[{word:"head",translation:"голова",image:"../assets/img/head.jpg",audioSrc:"../assets/audio/head.wav"},{word:"foot",translation:"нога",image:"../assets/img/foot.jpg",audioSrc:"../assets/audio/foot.wav"},{word:"hair",translation:"волосы",image:"../assets/img/hair.jpg",audioSrc:"../assets/audio/hair.wav"},{word:"nose",translation:"нос",image:"../assets/img/nose.jpg",audioSrc:"../assets/audio/nose.wav"},{word:"mouth",translation:"рот",image:"../assets/img/mouth.jpg",audioSrc:"../assets/audio/mouth.wav"},{word:"hand",translation:"рука",image:"../assets/img/hand.jpg",audioSrc:"../assets/audio/hand.wav"},{word:"ear",translation:"ухо",image:"../assets/img/ear.jpg",audioSrc:"../assets/audio/ear.wav"},{word:"eye",translation:"глаз",image:"../assets/img/eye.jpg",audioSrc:"../assets/audio/eye.wav"}]};function s(e){new Audio(e).play()}class i{constructor(e,t){t||(t=0),this.word=a[`${e}`][t].word,this.translation=a[`${e}`][t].translation,this.image=a[`${e}`][t].image,this.audioSrc=a[`${e}`][t].audioSrc,this.category=e,this.element=document.createElement("div")}createMainPageCard(){this.element.classList.add("card"),this.element.id=this.category;const e=this.createElementImage();e.classList.add("menu_img"),e.id=this.category,this.element.appendChild(e);const t=document.createElement("div");t.classList.add("title"),t.innerText=this.category,t.id=this.category,"BodyParts"===this.category&&(t.innerText="Body parts"),this.element.appendChild(t)}createCategoryPageCard(){this.element.classList.add("train_card");const e=document.createElement("div");e.classList.add("card_face"),e.classList.add("card_face-front");const t=this.createElementImage();t.classList.add("train_img"),e.appendChild(t);const a=document.createElement("img");a.src="../assets/icons/rotate.svg",a.alt="turn icon",a.classList.add("turn_img");const s=document.createElement("div");s.innerText=this.word,s.classList.add("title"),s.classList.add("topic_title"),s.appendChild(a),e.appendChild(s);const i=document.createElement("div");i.classList.add("card_face"),i.classList.add("card_face-back");const r=this.createElementImage();r.classList.add("train_img"),i.appendChild(r);const n=document.createElement("div");n.innerText=this.translation,n.classList.add("title"),i.appendChild(n),this.element.appendChild(e),this.element.appendChild(i)}createElementImage(){const e=document.createElement("img");return e.src=this.image,e.alt=`image of ${this.word}`,e}createPlayPageCard(){this.element.classList.add("play_card");const e=this.createElementImage();e.classList.add("play_img"),this.element.appendChild(e)}addEventListenersToCategoryPageCard(e){this.element.addEventListener("click",(e=>{if(!1===e.target.classList.contains("turn_img")&&!1===this.element.classList.contains("turning_card")){let e=localStorage.getItem(`${this.word}_train`)||0;e+=1,localStorage.setItem(`${this.word}_train`,e),s(this.audioSrc)}})),document.querySelector(`.train_card:nth-child(${e+1}) > .card_face > .topic_title > .turn_img`).addEventListener("click",(()=>{this.turnCard()})),this.element.addEventListener("mouseleave",(()=>{this.element.classList.contains("turning_card")&&this.turnCard()}))}turnCard(){this.element.classList.toggle("turning_card")}}const r=document.querySelector(".label_switch"),n="TRAIN";let o=!1;class d{constructor(e){this.fillStar(e),this.element=this.createElement()}fillStar(e){this.image="fill"===e?"../assets/icons/star-win.svg":"../assets/icons/star.svg"}createElement(){const e=document.createElement("img");return e.src=this.image,e.alt="image of game star",e.classList.add("star_img"),e}}const c={audioSrc:"../assets/audio/success.mp3",imageSrc:"../assets/img/success.jpg",text:"WIN"},l={audioSrc:"../assets/audio/failure.mp3",imageSrc:"../assets/img/failure.jpg"};class m{constructor(e){let t=c;0!==e&&(t=l,t.text=`${e} errors`),this.audioSrc=t.audioSrc,this.image=t.imageSrc,this.text=t.text,this.element=this.createElement()}createElement(){const e=document.createElement("div");e.classList.add("win_window");const t=document.createElement("div");t.classList.add("block_comment"),t.innerText=this.text,e.appendChild(t);const a=document.createElement("img");return a.src=this.image,a.alt="image of game result",a.classList.add("win_img"),e.appendChild(a),e}}let u,g,p,h=0;function w(){s(u.audioSrc)}function S(e,t,a){if(e===u.word){t.style.opacity="0.5",s("../assets/audio/correct.mp3"),document.querySelector(".stars_block").appendChild(new d("fill").element);let i=localStorage.getItem(`${e}_correct`)||0;i+=1,localStorage.setItem(`${e}_correct`,i),function(e){h!==e.length-1?(h+=1,u=e[g[h]],setTimeout(w,1e3)):function(){document.querySelector(".repeat_btn").remove(),document.querySelector(".game").remove(),document.querySelector(".switch").remove();const e=new m(p);document.querySelector("main").append(e.element),s(e.audioSrc),setTimeout((()=>{window.location.href="../src/index.html"}),3e3)}()}(a)}else{if("0.5"===t.style.opacity)return;s("../assets/audio/error.mp3"),document.querySelector(".stars_block").appendChild(new d("no-fill").element);let e=localStorage.getItem(`${u.word}_incorrect`)||0;e+=1,localStorage.setItem(`${u.word}_incorrect`,e),p+=1}}function y(e,t){(function(e){const t=document.createElement("div");t.classList.add("stars_block"),document.querySelector(".game").prepend(t),document.querySelector(".play_btn").remove();const a=new _;a.createRepeatElement(),document.querySelector("main").append(a.element),a.element.addEventListener("click",(()=>{w()})),p=0,g=function(){const e=[0,1,2,3,4,5,6,7];return e.sort((()=>Math.random()-.5)),e}(),u=e[g[h]],w();for(let t=0;t<e.length;t+=1)e[t].element.addEventListener("click",(()=>{S(e[t].word,e[t].element,e)}))})(t),e.target.removeEventListener("click",y)}class _{constructor(){this.element=document.createElement("button")}createStartElement(){this.element.classList.add("play_btn"),this.element.innerText="Start Game"}addEventListenersToStartButton(e){this.element.addEventListener("click",y.bind(null,event,e))}createRepeatElement(){this.element.classList.add("repeat_btn");const e=document.createElement("img");e.src="../assets/icons/repeat.svg",e.alt="image of repeat",e.classList.add("repeat_img"),this.element.appendChild(e)}}const v=document.querySelector(".game");function E(){v.innerHTML="",document.querySelector(".play_btn")&&document.querySelector(".play_btn").remove(),document.querySelector(".repeat_btn")&&document.querySelector(".repeat_btn").remove()}function b(){P(),E(),document.querySelector(".header_menu_list > li").classList.add("header_menu_item_active");for(let e=0;e<t.length;e+=1){const a=new i(t[e]);a.createMainPageCard(),v.append(a.element)}}function j(e){P(),E();const s=t.indexOf(e)+1;if(document.querySelector(`.header_menu_list > li:nth-child(${s+1})`).classList.add("header_menu_item_active"),o)!function(e){const t=[];for(let s=0;s<a[`${e}`].length;s+=1){const a=new i(e,s);a.createPlayPageCard(),v.append(a.element),t.push(a)}const s=new _;s.createStartElement(),document.querySelector("main").append(s.element),s.addEventListenersToStartButton(t)}(e);else for(let t=0;t<a[`${e}`].length;t+=1){const a=new i(e,t);a.createCategoryPageCard(),v.append(a.element),a.addEventListenersToCategoryPageCard(t)}}class L{constructor(){this.element=this.createElement()}createElement(){const e=document.createElement("tr"),t=document.createElement("td");t.innerText="Categories",e.appendChild(t);const a=document.createElement("td");a.innerText="Words",e.appendChild(a);const s=document.createElement("td");s.innerText="Translation",e.appendChild(s);const i=document.createElement("td");i.innerText="Trained",e.appendChild(i);const r=document.createElement("td");r.innerText="Correct",e.appendChild(r);const n=document.createElement("td");n.innerText="Incorrect",e.appendChild(n);const o=document.createElement("td");return o.innerText="%",e.appendChild(o),e}}class f{constructor(e,t){this.category=e,this.word=a[`${e}`][t].word,this.translate=a[`${e}`][t].translation,this.element=this.createElement()}createElement(){const e=document.createElement("tr"),t=document.createElement("td");t.innerText=this.category,"BodyParts"===this.category&&(t.innerText="Body parts"),e.appendChild(t);const a=document.createElement("td");a.innerText=this.word,e.appendChild(a);const s=document.createElement("td");s.innerText=this.translate,e.appendChild(s);const i=document.createElement("td");i.innerText=localStorage.getItem(`${this.word}_train`)||0,e.appendChild(i);const r=document.createElement("td");r.innerText=localStorage.getItem(`${this.word}_correct`)||0,e.appendChild(r);const n=document.createElement("td");n.innerText=localStorage.getItem(`${this.word}_incorrect`)||0,e.appendChild(n);const o=document.createElement("td");return o.innerText=this.calculatePercent(),e.appendChild(o),e}calculatePercent(){const e=Number(localStorage.getItem(`${this.word}_correct`))||0,t=e+(Number(localStorage.getItem(`${this.word}_incorrect`))||0),a=0===t?"-":Math.round(e/(100*t));return localStorage.setItem(`${this.word}_statistics`,a),a}}function C(){document.querySelector(".game").innerHTML="",P(),document.querySelector(".switch").classList.add("invisible"),document.querySelector("li:nth-child(10)").classList.add("header_menu_item_active");const e=document.createElement("button");e.classList.add("statistic_btn"),e.innerText="Reset",document.querySelector(".game").appendChild(e),document.querySelector(".statistic_btn").addEventListener("click",(()=>{localStorage.clear(),C()}));const s=document.createElement("button");s.classList.add("statistic_btn"),s.innerText="Repeat",document.querySelector(".game").appendChild(s),document.querySelector(".statistic_btn:nth-child(2)").addEventListener("click",(()=>{!function(){v.innerHTML="";let e=[];for(let s=0;s<t.length;s+=1)for(let i=0;i<a[`${t[0]}`].length;i+=1){const r=t[s],n=a[`${r}`][i].word;0!==(localStorage.getItem(`${n}_incorrect`)||0)&&e.push([r,i])}e.length>t.length&&(e=e.slice(0,t.length));for(let t=0;t<e.length;t+=1){const a=new i(e[t][0],e[t][1]);a.createCategoryPageCard(),v.append(a.element),a.addEventListenersToCategoryPageCard(t)}}()}));const r=document.createElement("table");r.classList.add("statistics_table"),r.appendChild((new L).element);for(let e=0;e<t.length;e+=1)for(let s=0;s<a[`${t[0]}`].length;s+=1){const a=new f(t[e],s);r.appendChild(a.element)}document.querySelector(".game").appendChild(r)}class T{constructor(e){this.element=document.createElement("li"),this.element.innerText=e}}const q=document.querySelector(".hamburger"),x=document.querySelector(".header_menu"),k=[];function $(){q.classList.toggle("show_close"),x.classList.toggle("show_header_menu"),q.classList.contains("show_close")?document.querySelector("body").addEventListener("click",I):document.querySelector("body").removeEventListener("click",I)}const I=function(e){e.target!==q&&$()};function P(){k.forEach((e=>{e.classList.contains("header_menu_item_active")&&e.classList.remove("header_menu_item_active")}))}const B=document.querySelector(".game");!function(){for(let t=0;t<e.length;t+=1){const a=new T(e[t]);document.querySelector(".header_menu_list").appendChild(a.element),k.push(a.element)}document.querySelector(".header_menu_list").addEventListener("click",(e=>{if("LI"!==e.target.tagName)return;document.querySelector(".switch").classList.remove("invisible"),P(),$();let t=e.target.innerText;"Body parts"===t&&(t="BodyParts"),e.target===document.querySelector(".header_menu_list > li:nth-child(1)")?b():e.target===document.querySelector(".header_menu_list > li:nth-child(10)")?C():j(t)}))}(),document.querySelector(".hamburger").addEventListener("click",(()=>{$()})),b(t.length),document.querySelector("#switch").addEventListener("change",(function(){if(o=!o,r.innerText===n?r.innerText="PLAY":r.innerText=n,document.querySelector("li.header_menu_item_active").innerText===e[0]||document.querySelector("li.header_menu_item_active").innerText===e[e.length-1])return;E();let t=document.querySelector("li.header_menu_item_active").innerText;"Body parts"===t&&(t="BodyParts"),j(t)})),B.addEventListener("click",(e=>{const{target:t}=e;"game"!==t.className&&B.querySelector(".card")&&j(t.id)}))})();